!function($){"use strict";var $html=$("html"),$body=$("body"),$content=$("#content"),$footer=$("#footer"),$nav=$("#navigation"),$navHorizontal=$nav.find(".nav-primary-horizontal"),$navToggle=$("#navigation-toggle"),$pageLoader=$("#page-loader"),$calendar=$("#calendar-component"),pageScrolling=!!$body.hasClass("page-scrolling"),pageSliding=!!$body.hasClass("page-sliding"),navHorizontal=!!$nav.hasClass("navigation-horizontal"),navVertical=!!$nav.hasClass("navigation-vertical"),navPanel=!!$nav.hasClass("navigation-panel"),trueMobile,defaultCalendarView,Core={init:function(){this.Basic.init(),this.Component.init()},Basic:{init:function(){this.systemDetector(),this.animations($body),this.backgrounds($body),this.typing(),this.Navigation.init(),this.filter(),this.masonry(),this.mouseParallax(),pageScrolling&&this.footer(),pageSliding&&this.sliding()},animations:function(){},backgrounds:function(e){$(".lazy").lazy();var a=$(".bg-slideshow",e),t=$(a).data("speed")||3e3;a.length&&a.slick({dots:!1,arrows:!1,fade:!0,speed:1e3,autoplay:!0,autoplaySpeed:t,pauseOnHover:!1});var i=$(".bg-video");i.length&&(i.YTPlayer(),trueMobile&&(i.next(".bg-video-placeholder").show(),i.remove()))},filter:function(){var e,a,t=$(".filter"),i=$(".filter-isotope");i.length&&(i.each(function(){(e=$($(this).data("filter-list"))).hasClass("masonry")?e.isotope({itemSelector:".masonry-item",percentPosition:!0,masonry:{columnWidth:".masonry-sizer"}}):e.isotope()}),i.on("click","a",function(){return e=$($(this).parents(".filter-isotope").data("filter-list")),a=$(this).attr("data-filter"),e.isotope({filter:a}),e.on("layoutComplete",function(){pageScrolling?Waypoint.refreshAll():pageSliding&&$.fn.fullpage.reBuild()}),$(this).parents("ul").find(".active").removeClass("active"),$(this).addClass("active"),!1})),t.length&&t.on("click","a",function(){return e=$($(this).parents(".filter").data("filter-list")),a=$(this).attr("data-filter"),e.children().filter(".not-matched").removeClass("not-matched"),"*"!=a&&e.children().not(a).addClass("not-matched"),$(this).parents("ul").find(".active").removeClass("active"),$(this).addClass("active"),!1})},footer:function(){$body.css("padding-bottom",$footer.height()-1+"px")},masonry:function(){var e=$(".masonry","#content");e.length&&(e.masonry({columnWidth:".masonry-sizer",itemSelector:".masonry-item",percentPosition:!0}),e.on("layoutComplete",Waypoint.refreshAll()))},mouseParallax:function(){var e=$(".mouse-parallax","#content");e.length&&e.on("mousemove",function(e){var a=$(this).find(".mouse-parallax-item"),t=e.clientX,i=e.clientY;a.each(function(){var e=$(this),a=e.data("parallax-speed"),n=t/a,o=i/a;1==e.data("parallax-reverse")&&(n=-n,o=-o),e.hasClass("bg-image-container")?e.hasClass("h-only")?e.css({"background-position":"calc(50% - "+n+"px) 50%"}):e.css({"background-position":"calc(50% - "+n+"px) calc(50% - "+o+"px)"}):e.hasClass("lines-container")?e.css({transform:"translateX("+n+"px)"}):e.css({transform:"translateX("+n+"px) translateY("+o+"px)"})})})},systemDetector:function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};trueMobile=e.any()},sliding:function(){var e=[];$content.children(".section").each(function(){var a=$(this).data("anchor");void 0!==a&&e.push(a)}),$content.fullpage({anchors:e,scrollOverflow:!0,slideSelector:".inner-slide",scrollBar:!1,navigation:!0,scrollingSpeed:550,menu:"#navigation",recordHistory:!1,normalScrollElements:"#navigation, .window, .ajax-modal-inner",onLeave:function(e,a){Core.Basic.setSectionScheme($content.find(".section").eq(a-1))}})},Navigation:{init:function(){var e,a=$(".section","#content"),t=$nav.height();if(navHorizontal&&(e=$nav.find(".nav-primary-horizontal")),pageScrolling){$("#navigation, [data-local-scroll]").find("a").on("click",function(){$(this).blur()});var i=$nav.find("a"),n=function(e){i.each(function(){var a=$(this).attr("href");e==a?$(this).addClass("active"):$(this).removeClass("active")}),Core.Basic.Navigation.hideNav()};a.waypoint({handler:function(e){if("up"==e){var a="#"+this.element.id;n(a),Core.Basic.setSectionScheme($(this.element))}},offset:function(){return navHorizontal?-this.element.clientHeight+t:-this.element.clientHeight}}),a.waypoint({handler:function(e){if("down"==e){var a="#"+this.element.id;n(a),Core.Basic.setSectionScheme($(this.element))}},offset:function(){return navHorizontal?t:0}})}$navToggle.on("click",function(){return $(this).toggleClass("open"),navHorizontal?e.toggleClass("show"):($nav.toggleClass("show"),$body.toggleClass("navigation-open")),!1})},hideNav:function(){$nav.removeClass("show"),$navToggle.removeClass("open"),$body.removeClass("navigation-open"),navHorizontal&&$navHorizontal.removeClass("show")}},typing:function(){},setSectionScheme:function(e){"light"===e.data("scheme")?$body.removeClass("dark-scheme").addClass("light-scheme"):"dark"===e.data("scheme")&&$body.removeClass("light-scheme").addClass("dark-scheme")}},Component:{init:function(){this.ajaxModal(),this.accordion(),this.calendar(),this.carousel($body),this.chart($body),this.contactMap(),this.forms(),this.map(),this.window(),this.modal($body),this.points()},ajaxModal:function(){function e(e){o.load(e,function(a,l){if("success"==l){var s=$(this),r=s.find("#content");r.attr("id","ajax-content"),$pageLoader.fadeIn(300),$body.addClass("ajax-modal-open"),t.show(0).addClass("loading-started").addClass(r.data("scheme")),Core.Basic.backgrounds(s),Core.Component.carousel(s),Core.Component.chart(s),Core.Component.modal(s),$(".animated",s).appear(function(){$(this).each(function(){var e=$(this),a=e.data("animation-delay");setTimeout(function(){e.addClass(e.data("animation")).addClass("visible")},a)})}),s.imagesLoaded(function(){n.html(r),setTimeout(function(){$html.addClass("locked-scrolling"),n.fadeIn(300).scrollTop(0),t.addClass("loading-finished"),o.html(""),i.addClass("visible"),$pageLoader.fadeOut(300)},800)})}else console.log("There is no such file / element: "+e)})}function a(){$html.removeClass("locked-scrolling"),$body.removeClass("ajax-modal-open"),i.removeClass("visible"),t.fadeOut(200,function(){$(this).removeClass("loading-started loading-finished"),n.hide(0).html("")})}$body.append('<div id="ajax-modal"><button class="ajax-modal-close" data-dismiss="ajax-modal"></button><div class="ajax-modal-inner"></div></div><div id="ajax-tmp"></div>');var t=$("#ajax-modal"),i=t.children(".ajax-modal-close"),n=t.children(".ajax-modal-inner"),o=$("#ajax-tmp");$body.delegate('*[data-toggle="ajax-modal"]',"click",function(){return e($(this).attr("href")+" #content"),!1}),t.delegate('*[data-dismiss="ajax-modal"]',"click",function(){return a(),!1})},accordion:function(){pageScrolling&&$(".collapse").on("shown.bs.collapse hidden.bs.collapse",function(){Waypoint.refreshAll()})},calendar:function(){$calendar.length&&(defaultCalendarView="month",$(window).width()<991&&(defaultCalendarView="agendaDay"),$calendar.fullCalendar({header:{left:"title",right:"month,agendaWeek,agendaDay"},views:{agenda:{minTime:"07:00:00",maxTime:"21:00:00"}},eventLimit:!0,navLinks:!0,aspectRatio:2,defaultView:defaultCalendarView,googleCalendarApiKey:"AIzaSyBRMEkSrFLFkLKHyLVwT0DLLTqcUhUUZdM",eventSources:[{googleCalendarId:"480uf03upv9p68q3h755gph2mo@group.calendar.google.com"},{googleCalendarId:"71ev00p89bpntfca1crkukmfa0@group.calendar.google.com",className:"primary"}],dayClick:function(e){$calendar.fullCalendar("gotoDate",e.format()),$calendar.fullCalendar("changeView","agendaDay")},eventClick:function(e){$calendar.fullCalendar("gotoDate",e.start.format()),$calendar.fullCalendar("changeView","agendaDay")}}),$(".btn-calendar-nav").on("click",function(){var e=$calendar.fullCalendar("getView").type,a="30.00:00:00";return"agendaWeek"==e?a="7.00:00:00":"agendaDay"==e&&(a="1.00:00:00"),$(this).hasClass("prev")?$calendar.fullCalendar("incrementDate","-"+a):$(this).hasClass("next")&&$calendar.fullCalendar("incrementDate",a),!1}))},carousel:function(e){$(".carousel",e).slick();var a=$(".section-bgs",e),t=$(".section-slides",e);a.slick({infinite:!1,speed:500,fade:!0,cssEase:"linear",dots:!1,arrows:!1,asNavFor:$(".section-slides")}),t.slick({infinite:!1,speed:500,asNavFor:$(".section-bgs"),dots:!0,arrows:!0}),t.on("beforeChange",function(e,a,t,i){var n=$(this).parents(".section");$(this).find(".slide").eq(i).hasClass("dark")?n.addClass("dark"):n.removeClass("dark")})},chart:function(e){var a=$(".chart",e);a.length&&a.each(function(){var e=$(this),a=$(this).data("percent");e.attr("data-percent",0),e.easyPieChart({barColor:e.data("bar-color"),trackColor:e.data("track-color"),scaleColor:!1,size:150,lineWidth:4,onStep:function(e,a,t){$(this.el).find(".percent").text(Math.round(t))},onStop:function(){pageSliding&&$.fn.fullpage.reBuild()}}),e.appear(function(){$(this).data("easyPieChart").update(a)})})},forms:function(){$body.append('<div id="notification-bar"></div>');var e=$("#notification-bar"),a=($("#notification-bar").find(".close"),function(a,t){e.html("<div class="+a+">"+t+'<a href="#" class="close"></a></div>'),setTimeout(function(){e.addClass("visible")},400),setTimeout(function(){e.removeClass("visible")},1e4)});$body.delegate("#notification-bar .close","click",function(){return e.removeClass("visible"),!1}),$("[data-validate]").each(function(){$(this).validate({validClass:"valid",errorClass:"error",onfocusout:function(e){$(e).valid()},errorPlacement:function(){return!0},rules:{email:{required:!0,email:!0}}})});var t=$(".contact-form");t.length>0&&t.submit(function(){var e=$(this).find(".btn-submit"),t=$(this),i=$(this).data("message-success"),n=$(this).data("message-error");return!!t.valid()&&(e.addClass("loading"),$.ajax({type:"POST",url:"assets/php/contact-form.php",data:t.serialize(),error:function(){setTimeout(function(){e.addClass("error")},1200)},success:function(e){"success"!=e?a("error",n):a("success",i)},complete:function(){setTimeout(function(){e.removeClass("loading")},1e3)}}),!1)});var i=$("#contact-form-suelo");i.length>0&&i.submit(function(){var e=$(this).find(".btn-submit"),t=$(this),i=$(this).data("message-success"),n=$(this).data("message-error");return!!t.valid()&&(e.addClass("loading"),$.ajax({type:"POST",url:"assets/php/contact-form-suelo.php",data:t.serialize(),error:function(){setTimeout(function(){e.addClass("error")},1200)},success:function(e){"success"!=e?a("error",n):a("success",i)},complete:function(){setTimeout(function(){e.removeClass("loading")},1e3)}}),!1)})},map:function(){var $googleMap=$("#google-map");if($googleMap.length)var yourLatitude=$googleMap.data("latitude"),yourLongitude=$googleMap.data("longitude"),pickedStyle=$googleMap.data("style"),wy=[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],apple=[{featureType:"landscape.man_made",elementType:"all",stylers:[{color:"#faf5ed"},{lightness:"0"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5a6"}]},{featureType:"road",elementType:"all",stylers:[{weight:"1.00"},{gamma:"1.8"},{saturation:"0"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ffb200"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"1"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#b000ff"},{saturation:"23"},{lightness:"-4"},{gamma:"0.80"}]},{featureType:"water",elementType:"all",stylers:[{color:"#a0daf2"}]}],grayscale=[{featureType:"administrative",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:-100},{lightness:"50"},{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"all",stylers:[{lightness:"30"}]},{featureType:"road.local",elementType:"all",stylers:[{lightness:"40"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"water",elementType:"labels",stylers:[{lightness:-25},{saturation:-100}]}],paper=[{featureType:"administrative",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"},{hue:"#0066ff"},{saturation:74},{lightness:100}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"},{weight:.6},{saturation:-85},{lightness:61}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{color:"#5f94ff"},{lightness:26},{gamma:5.86}]}],lunar=[{stylers:[{hue:"#ff1a00"},{invert_lightness:!0},{saturation:-100},{lightness:33},{gamma:.5}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#2D333C"}]}],mapMarker=$googleMap.data("marker")?"_"+$googleMap.data("marker"):"_orange",mapOptions={zoom:15,center:{lat:yourLatitude,lng:yourLongitude},mapTypeControl:!1,panControl:!1,zoomControl:!0,scaleControl:!1,streetViewControl:!1,scrollwheel:!1,styles:eval(pickedStyle)},map=new google.maps.Map(document.getElementById("google-map"),mapOptions),myLatLng=new google.maps.LatLng(yourLatitude,yourLongitude),image={url:"assets/img/map-marker"+mapMarker+".png",anchor:new google.maps.Point(19,59)},myLocation=new google.maps.Marker({position:myLatLng,map:map,icon:image})},modal:function(e){$(".modal[data-timeout]",e).each(function(){var e=$(this).data("timeout"),a=$(this);setTimeout(function(){a.modal("show")},e)}),$('[data-toggle="video-modal"]',e).on("click",function(){var e=$(this).data("target"),a=$(this).data("video");return $(e+" iframe").attr("src",a+"?autoplay=1"),$(e).modal("show"),$(e).on("hidden.bs.modal",function(){var a=$(e+" .modal-content");$(e+" iframe").remove(),a.html('<iframe height="500"></iframe>')}),!1})},window:function(){var e=$(".window"),a=$(".window-toggle");if(e.length){var t=Snap(".window-background").path("M 0 220 C 620 0, 1300 0, 1920 220 L 1920 1080 L 0 1080 Z");t.transform("t0,1080"),(new Snap.Matrix).translate(0,0),a.on("click",function(){var e=$(this),a=$(e.data("target"));a.hasClass("show")?(a.removeClass("visible"),setTimeout(function(){t.stop().animate({path:"M 0 0 C 620 220, 1300 220, 1920 0 L 1920 1080 L 0 1080 Z"},300,mina.linear).animate({transform:"t0,1080"},300,mina.linear,function(){$("body","html").css("overflow","auto"),e.removeClass("active"),t.stop().animate({path:"M 0 0 C 620 0, 1300 0, 1920 0 L 1920 1080 L 0 1080 Z"},1200,mina.elastic,function(){a.removeClass("show"),t.attr({path:"M 0 220 C 620 0, 1300 0, 1920 220 L 1920 1080 L 0 1080 Z"})})})},300)):(a.addClass("show"),e.addClass("active"),$("body","html").css("overflow","hidden"),t.stop().animate({transform:"t0,0"},300,mina.linear,function(){t.stop().animate({path:"M 0 0 C 620 0, 1300 0, 1920 0 L 1920 1080 L 0 1080 Z"},1200,mina.elastic),a.addClass("visible")}))})}},points:function(){$(".point","#content").each(function(){var e=$(this).data("x"),a=$(this).data("y");$(this).css({top:a,left:e})})},contactMap:function(){$('[data-toggle="contact-map"]',"#content").on("change",function(){var e=$(this).parents(".section-contact");e.find(".section-contact-content");e.toggleClass("map-visible")})}}};$(document).ready(function(){Core.init()}),$(window).on("load",function(){$pageLoader.fadeOut(300,function(){$body.addClass("loaded")}),pageScrolling&&Core.Basic.footer()}),$(window).on("resize",function(){pageScrolling&&setTimeout(function(){Waypoint.refreshAll()},300),pageScrolling&&Core.Basic.footer(),$calendar.length&&($(window).width()<991?(defaultCalendarView="agendaDay",$calendar.fullCalendar("changeView",defaultCalendarView)):(defaultCalendarView="month",$calendar.fullCalendar("changeView",defaultCalendarView)))}),$(document).on("click",function(){Core.Basic.Navigation.hideNav()})}(jQuery);